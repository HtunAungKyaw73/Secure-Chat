@import "tailwindcss";

/* Tell Tailwind v4 that dark: variant is class-based, not media-query-based */
@variant dark (&:where(.dark, .dark *));

/* Light theme (default) */
:root {
  --background: #f4f4f5;
  --foreground: #18181b;
}

/* Dark theme */
:root.dark {
  --background: #09090b;
  --foreground: #fafafa;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  transition: background-color 0s, color 0s;
}

/* ─── View Transitions API ─── */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 9999;
}

/* Trigger the ripple animation when transitioning into either theme */
.dark::view-transition-new(root),
:root:not(.dark)::view-transition-new(root) {
  animation: circle-in 0.6s ease-in-out;
}

@keyframes circle-in {
  from {
    clip-path: circle(0% at var(--x, 50%) var(--y, 50%));
  }

  to {
    clip-path: circle(150% at var(--x, 50%) var(--y, 50%));
  }
}